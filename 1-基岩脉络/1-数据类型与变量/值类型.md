# 值类型

## Solidity 中的变量类型

1. 值类型：布尔型、整数型等，赋值时直接传递数值。
2. 引用类型：数组、结构体等，占空间大，赋值时直接传递地址。
3. 映射类型：存储键值对的数据结构。

## 1. 值类型：布尔类型

```solidity
bool public _bool = true;

// 运算符包括：|，&&，||，==，!=
// 布尔运算，&& 和 || 运算符遵循短路规则

bool public _bool1 = !_bool; // 取非
bool public _bool2 = _bool && _bool1; // 与
bool public _bool3 = _bool || _bool1; // 或
bool public _bool4 = _bool == _bool1; // 相等
bool public _bool5 = _bool != _bool1; // 不相等

// 所谓“短路规则”，一般出现在逻辑与（&&）和逻辑或（||）中。 
// 当逻辑与（&&）的第一个条件为false时，就不会再去判断第二个条件； 
// 当逻辑或（||）的第一个条件为true时，就不会再去判断第二个条件，这就是短路规则。
```

## 2. 整型

```solidity
// 整型
int public _int = -1; // 整数，包括负数
uint public _uint = 1; // 无符号整数
uint256 public _number = 20220330; // 256位无符号整数

// 常用的整型运算符包括：
// 比较运算符（返回布尔值）： <=， <，==， !=， >=， >
// 算术运算符： +， -， *， /， %（取余），**（幂）

// 整数运算
uint256 public _number1 = _number + 1; // +，-，*，/
uint256 public _number2 = 2**2; // 指数
uint256 public _number3 = 7 % 2; // 取余数
bool public _numberbool = _number2 > _number3; // 比大小
```

## 3. 地址类型
  
- 普通地址(address)：存储一个 20B 的值
- payable address：比普通地址多了 transfer 和 send 两个成员方法，用于接收转账。

```solidity
// 地址
address public _address = 0x7A58c0Be72BE218B41C608b7Fe7C5bB630736C71;
address payable public _address1 = payable(_address); // payable address，可以转账、查余额
// 地址类型的成员
uint256 public balance = _address1.balance; // balance of address
```

## 4. 定长字节数组

- 定长字节数组: 属于值类型，数组长度在声明之后不能改变。根据字节数组的长度分为 bytes1, bytes8, bytes32 等类型。定长字节数组最多存储 32 bytes 数据，即bytes32。
- 不定长字节数组: 属于引用类型（之后的章节介绍），数组长度在声明之后可以改变，包括 bytes 等。

``` solidity
// 固定长度的字节数组
bytes32 public _byte32 = "MiniSolidity"; 
bytes1 public _byte = _byte32[0]; 
```

## 5. 枚举

- 枚举（enum）是 Solidity 中用户定义的数据类型。它主要用于为 uint 分配名称，使程序易于阅读和维护。

```solidity
// 用enum将uint 0， 1， 2表示为Buy, Hold, Sell
enum ActionSet { Buy, Hold, Sell }
// 创建enum变量 action
ActionSet action = ActionSet.Buy;
```

- 枚举可以显式地和 uint 相互转换，并会检查转换的无符号整数是否在枚举的长度内，否则会报错：

```solidity
// enum可以和uint显式的转换
function enumToUint() external view returns(uint){
    return uint(action);
}
```
